(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6258:function(e,t,n){Promise.resolve().then(n.bind(n,4209)),Promise.resolve().then(n.bind(n,1391))},4209:function(e,t,n){"use strict";n.d(t,{default:function(){return a}});var r=n(7437),i=n(2265);function a(e){let{children:t}=e,[n,a]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{try{"true"===localStorage.getItem("isAuthenticated")?a(!0):window.location.href="/"}catch(e){window.location.href="/"}},[]),n)?(0,r.jsx)(r.Fragment,{children:t}):null}},7648:function(e,t,n){"use strict";n.d(t,{default:function(){return i.a}});var r=n(2972),i=n.n(r)},6079:function(e,t,n){"use strict";var r=n(7437);n(2265);var i=n(2840),a=n(429);let o=i.ZP.div.withConfig({componentId:"sc-461d11f4-0"})(["display:flex;align-items:center;gap:1rem;"]),c=i.ZP.div.withConfig({componentId:"sc-461d11f4-1"})(["display:flex;flex-direction:column;align-items:center;text-align:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(54,166,186,0.2);","{margin-top:1rem;}"],o),s=i.ZP.h1.withConfig({componentId:"sc-461d11f4-2"})(["font-size:2.5rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;margin:0;img{height:40px;margin-right:1rem;}span.accent{color:var(--primary);}"]),l=(0,i.ZP)(a.E.div).withConfig({componentId:"sc-461d11f4-3"})(["position:relative;width:20px;height:20px;margin-left:10px;&:before,&:after{content:'';position:absolute;border:2px solid var(--primary);border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);}&:before{width:8px;height:8px;background-color:var(--primary);}"]);t.Z=e=>{let{title:t,accentWord:n,children:i,pulseEffect:a=!0}=e,d=t,h="";if(!n&&t.includes(" ")){let e=t.split(" ");h=e.pop(),d=e.join(" ")+" "}else n&&(h=n);return(0,r.jsxs)(c,{children:[(0,r.jsxs)(s,{children:[(0,r.jsx)("img",{src:"/logo.png",alt:"Sonar Logo"}),d,(0,r.jsx)("span",{className:"accent",children:h}),a&&(0,r.jsx)(l,{animate:{scale:[1,1.5,1],opacity:[1,.5,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"}})]}),(0,r.jsx)(o,{children:i})]})}},1391:function(e,t,n){"use strict";var r=n(7437),i=n(2265),a=n(2840),o=n(429),c=n(5095),s=n(6079),l=n(7648);let d=a.ZP.div.withConfig({componentId:"sc-ddfce85e-0"})(["padding:2rem;max-width:1200px;margin:0 auto;"]),h=a.ZP.div.withConfig({componentId:"sc-ddfce85e-1"})(["display:inline-flex;align-items:center;gap:0.5rem;padding:0.35rem 0.75rem;border-radius:999px;font-weight:500;font-size:0.95rem;color:",";background:",";border:1px solid ",";"],e=>{let{active:t}=e;return t?"#2ecc71":"#e74c3c"},e=>{let{active:t}=e;return t?"rgba(46, 204, 113, 0.15)":"rgba(231, 76, 60, 0.15)"},e=>{let{active:t}=e;return t?"rgba(46, 204, 113, 0.35)":"rgba(231, 76, 60, 0.35)"}),m=a.ZP.span.withConfig({componentId:"sc-ddfce85e-2"})(["width:10px;height:10px;border-radius:50%;display:inline-block;background:currentColor;"]),u=a.ZP.div.withConfig({componentId:"sc-ddfce85e-3"})(["display:flex;align-items:center;gap:1.5rem;flex-wrap:wrap;@media (max-width:768px){margin-top:1rem;}"]),p=a.ZP.div.withConfig({componentId:"sc-ddfce85e-4"})(["display:flex;flex-direction:column;gap:0.5rem;label{color:var(--text-secondary);font-size:0.9rem;}select,input{background-color:var(--background-card);border:1px solid var(--secondary);color:var(--text-primary);padding:0.5rem 1rem;border-radius:4px;min-width:150px;&:focus{outline:none;border-color:var(--primary);}}"]);a.ZP.div.withConfig({componentId:"sc-ddfce85e-5"})(["display:flex;align-items:center;margin-top:1rem;color:var(--text-secondary);font-size:0.9rem;span{color:var(--primary);font-weight:500;margin:0 0.25rem;}"]);let f=a.ZP.div.withConfig({componentId:"sc-ddfce85e-6"})(["background-color:var(--background-card);border-radius:8px;padding:1.5rem;margin-bottom:2rem;box-shadow:0 4px 6px rgba(0,0,0,0.1);transition:transform 0.3s ease,box-shadow 0.3s ease;&:hover{transform:translateY(-5px);box-shadow:0 8px 15px rgba(0,0,0,0.2);}h2{display:flex;align-items:center;margin-bottom:1.5rem;font-size:1.5rem;}"]),x=(0,a.ZP)(f).withConfig({componentId:"sc-ddfce85e-7"})([""]),g=a.ZP.div.withConfig({componentId:"sc-ddfce85e-8"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;h2{font-size:1.75rem;margin-bottom:0;}span{color:var(--text-secondary);}"]),b=a.ZP.table.withConfig({componentId:"sc-ddfce85e-9"})(["width:100%;table-layout:fixed;tr{transition:background-color 0.3s ease;}tr:hover{background-color:rgba(30,57,81,0.5);}td,th{padding:1rem;text-align:left;}.time{color:var(--text-secondary);}.amount{font-weight:500;text-align:left;font-variant-numeric:tabular-nums;font-feature-settings:'tnum' 1;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;}.price{font-weight:500;text-align:left;font-variant-numeric:tabular-nums;font-feature-settings:'tnum' 1;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;}.token{font-weight:500;}.action-buy{color:var(--buy-color);background-color:rgba(54,166,186,0.15);border-radius:4px;padding:0.25rem 0.75rem;font-weight:500;}.action-sell{color:var(--sell-color);background-color:rgba(231,76,60,0.15);border-radius:4px;padding:0.25rem 0.75rem;font-weight:500;}.action-transfer{color:var(--transfer-color);background-color:rgba(52,152,219,0.15);border-radius:4px;padding:0.25rem 0.75rem;font-weight:500;}"]),v=a.ZP.div.withConfig({componentId:"sc-ddfce85e-10"})(["display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;@media (max-width:768px){grid-template-columns:1fr;}"]),j=(0,a.ZP)(f).withConfig({componentId:"sc-ddfce85e-11"})(["table{width:100%;}th,td{padding:0.75rem 0;text-align:left;}th:last-child,td:last-child{text-align:left;}.percentage{font-weight:500;color:var(--primary);}"]),y=a.ZP.div.withConfig({componentId:"sc-ddfce85e-12"})(["display:grid;grid-template-columns:1fr;gap:10px;"]),w=a.ZP.div.withConfig({componentId:"sc-ddfce85e-13"})(["display:grid;grid-template-columns:160px 1fr 60px;gap:10px;align-items:center;"]),C=a.ZP.div.withConfig({componentId:"sc-ddfce85e-14"})(["background:rgba(30,57,81,0.7);height:12px;border-radius:6px;overflow:hidden;"]),k=a.ZP.div.withConfig({componentId:"sc-ddfce85e-15"})(["height:100%;background:linear-gradient(90deg,var(--primary),#2ecc71);"]),E=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");t.default=()=>{let[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)([]),[P,I]=(0,i.useState)([]),[M,N]=(0,i.useState)({labels:[],data:[]}),[S,Z]=(0,i.useState)(0),[R,A]=(0,i.useState)("now"),[L,T]=(0,i.useState)(!0),[z,_]=(0,i.useState)(!0);(0,i.useEffect)(()=>{let e;let n=async()=>{try{T(!0);let e=await fetch("/api/dashboard/summary",{cache:"no-store"}),n=await e.json();if(e.ok){let e=n.recent||[];t(e.map(e=>({id:e.transaction_hash||"".concat(e.time,"-").concat(e.coin,"-").concat(e.usd_value),time:new Date(e.time).toLocaleTimeString(),coin:e.coin||"—",action:e.action||"TRANSFER",blockchain:e.blockchain||"—",amount:E(Math.max(1,Math.floor((e.usd_value||0)/1e3))),price:E(Math.floor(e.usd_value||0)),usdPrice:E(Math.max(1,Math.floor((e.usd_value||0)/10)))}))),a(n.topBuys||[]),I(n.topSells||[]),N(n.blockchainVolume||{labels:[],data:[]}),A("just now")}}catch(e){}finally{T(!1)}},r=async()=>{try{let e=await fetch("/api/health/algorithm",{cache:"no-store"}),t=await e.json();e.ok&&_(!!t.active)}catch(e){}};return n(),r(),e=setInterval(()=>{n(),r()},15e3),()=>clearInterval(e)},[]);let F=e.filter(e=>Number(String(e.price).replace(/,/g,""))>=S),$={hidden:{opacity:0},visible:{opacity:1,transition:{when:"beforeChildren",staggerChildren:.1}}},B={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return(0,r.jsxs)(d,{children:[(0,r.jsx)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,r.jsx)(s.Z,{title:"Real-Time",accentWord:"Dashboard",children:(0,r.jsxs)(u,{children:[(0,r.jsxs)(p,{children:[(0,r.jsx)("label",{htmlFor:"min-value",children:"Minimum Transaction Value ($)"}),(0,r.jsx)("input",{id:"min-value",type:"number",min:"0",step:"1000",value:S,onChange:e=>{Z(""===e.target.value?"":Number(e.target.value))},placeholder:"Enter minimum value"})]}),(0,r.jsxs)(h,{active:z,children:[(0,r.jsx)(m,{})," ",z?"Algorithm Active":"Algorithm Not Active"]})]})})}),(0,r.jsx)(o.E.div,{variants:$,initial:"hidden",animate:"visible",children:(0,r.jsxs)(x,{children:[(0,r.jsxs)(g,{children:[(0,r.jsx)("h2",{children:"Incoming Data"}),(0,r.jsxs)("span",{children:["Updated ",R]})]}),L?(0,r.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Loading…"}):(0,r.jsxs)(b,{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Time"}),(0,r.jsx)("th",{children:"Token"}),(0,r.jsx)("th",{children:"Amount"}),(0,r.jsx)("th",{children:"Action"}),(0,r.jsx)("th",{children:"Blockchain"}),(0,r.jsx)("th",{children:"Price per Coin"}),(0,r.jsx)("th",{children:"Total Value"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsx)(c.M,{children:F.length>0?F.map(e=>(0,r.jsxs)(o.E.tr,{variants:B,initial:"hidden",animate:"visible",exit:{opacity:0,height:0},children:[(0,r.jsx)("td",{className:"time",children:e.time}),(0,r.jsx)("td",{className:"token",children:e.coin?(0,r.jsx)(l.default,{href:"/token/".concat(encodeURIComponent(e.coin)),children:e.coin}):"—"}),(0,r.jsx)("td",{className:"amount",children:e.amount}),(0,r.jsx)("td",{children:(0,r.jsx)("span",{className:"action-".concat(e.action.toLowerCase()||"transfer"),children:e.action})}),(0,r.jsx)("td",{children:e.blockchain}),(0,r.jsxs)("td",{className:"price",children:["$",e.usdPrice]}),(0,r.jsxs)("td",{className:"price",children:["$",e.price]})]},e.id)):(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:"7",style:{textAlign:"center",padding:"20px"},children:"No transactions match the current minimum value. Try lowering the minimum value."})})})})]})]})}),(0,r.jsxs)(v,{children:[(0,r.jsx)(o.E.div,{variants:$,initial:"hidden",animate:"visible",children:(0,r.jsxs)(j,{children:[(0,r.jsx)("h2",{children:"Top % of Buys"}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Coin"}),(0,r.jsx)("th",{children:"%"})]})}),(0,r.jsx)("tbody",{children:n.map((e,t)=>(0,r.jsxs)(o.E.tr,{variants:B,children:[(0,r.jsx)("td",{children:e.coin}),(0,r.jsxs)("td",{className:"percentage",children:[e.percentage.toFixed(1),"%"]})]},"buy-".concat(e.coin,"-").concat(t)))})]})]})}),(0,r.jsx)(o.E.div,{variants:$,initial:"hidden",animate:"visible",children:(0,r.jsxs)(j,{children:[(0,r.jsx)("h2",{children:"Top % of Sells"}),(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Coin"}),(0,r.jsx)("th",{children:"%"})]})}),(0,r.jsx)("tbody",{children:P.map((e,t)=>(0,r.jsxs)(o.E.tr,{variants:B,children:[(0,r.jsx)("td",{children:e.coin}),(0,r.jsxs)("td",{className:"percentage",children:[e.percentage.toFixed(1),"%"]})]},"sell-".concat(e.coin,"-").concat(t)))})]})]})})]}),(0,r.jsx)(o.E.div,{variants:$,initial:"hidden",animate:"visible",children:(0,r.jsxs)(f,{children:[(0,r.jsx)("h2",{children:"Transaction Volume by Blockchain"}),(0,r.jsx)("div",{style:{minHeight:"220px"},children:0===M.labels.length?(0,r.jsx)("p",{style:{color:"var(--text-secondary)"},children:"No data"}):(0,r.jsx)(y,{children:M.labels.map((e,t)=>{let n=Number(M.data[t]||0),i=Math.max(0,n/Math.max(...M.data.map(Number),1)*100);return(0,r.jsxs)(w,{children:[(0,r.jsx)("div",{style:{color:"var(--text-secondary)"},children:e}),(0,r.jsx)(C,{children:(0,r.jsx)(k,{style:{width:"".concat(i,"%")}})}),(0,r.jsx)("div",{style:{textAlign:"right",color:"var(--text-secondary)"},children:n})]},e)})})})]})})]})}},5095:function(e,t,n){"use strict";n.d(t,{M:function(){return x}});var r=n(2265),i=n(1534);function a(){let e=(0,r.useRef)(!1);return(0,i.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var o=n(8345),c=n(4252),s=n(3576);class l extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let n=(0,r.useId)(),i=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:o,left:c}=a.current;if(t||!i.current||!e||!r)return;i.current.dataset.motionPopId=n;let s=document.createElement("style");return document.head.appendChild(s),s.sheet&&s.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(s)}},[t]),r.createElement(l,{isPresent:t,childRef:i,sizeRef:a},r.cloneElement(e,{ref:i}))}let h=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:l})=>{let h=(0,s.h)(m),u=(0,r.useId)(),p=(0,r.useMemo)(()=>({id:u,initial:t,isPresent:n,custom:a,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;i&&i()},register:e=>(h.set(e,!1),()=>h.delete(e))}),o?void 0:[n]);return(0,r.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[n]),r.useEffect(()=>{n||h.size||!i||i()},[n]),"popLayout"===l&&(e=r.createElement(d,{isPresent:n},e)),r.createElement(c.O.Provider,{value:p},e)};function m(){return new Map}var u=n(8881),p=n(3223);let f=e=>e.key||"",x=({children:e,custom:t,initial:n=!0,onExitComplete:c,exitBeforeEnter:s,presenceAffectsLayout:l=!0,mode:d="sync"})=>{var m;(0,p.k)(!s,"Replace exitBeforeEnter with mode='wait'");let x=(0,r.useContext)(u.p).forceRender||function(){let e=a(),[t,n]=(0,r.useState)(0),i=(0,r.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,r.useCallback)(()=>o.Wi.postRender(i),[i]),t]}()[0],g=a(),b=function(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),v=b,j=(0,r.useRef)(new Map).current,y=(0,r.useRef)(v),w=(0,r.useRef)(new Map).current,C=(0,r.useRef)(!0);if((0,i.L)(()=>{C.current=!1,function(e,t){e.forEach(e=>{let n=f(e);t.set(n,e)})}(b,w),y.current=v}),m=()=>{C.current=!0,w.clear(),j.clear()},(0,r.useEffect)(()=>()=>m(),[]),C.current)return r.createElement(r.Fragment,null,v.map(e=>r.createElement(h,{key:f(e),isPresent:!0,initial:!!n&&void 0,presenceAffectsLayout:l,mode:d},e)));v=[...v];let k=y.current.map(f),E=b.map(f),P=k.length;for(let e=0;e<P;e++){let t=k[e];-1!==E.indexOf(t)||j.has(t)||j.set(t,void 0)}return"wait"===d&&j.size&&(v=[]),j.forEach((e,n)=>{if(-1!==E.indexOf(n))return;let i=w.get(n);if(!i)return;let a=k.indexOf(n),o=e;o||(o=r.createElement(h,{key:f(i),isPresent:!1,onExitComplete:()=>{j.delete(n);let e=Array.from(w.keys()).filter(e=>!E.includes(e));if(e.forEach(e=>w.delete(e)),y.current=b.filter(t=>{let r=f(t);return r===n||e.includes(r)}),!j.size){if(!1===g.current)return;x(),c&&c()}},custom:t,presenceAffectsLayout:l,mode:d},i),j.set(n,o)),v.splice(a,0,o)}),v=v.map(e=>{let t=e.key;return j.has(t)?e:r.createElement(h,{key:f(e),isPresent:!0,presenceAffectsLayout:l,mode:d},e)}),r.createElement(r.Fragment,null,j.size?v:v.map(e=>(0,r.cloneElement)(e)))}}},function(e){e.O(0,[840,429,972,971,117,744],function(){return e(e.s=6258)}),_N_E=e.O()}]);