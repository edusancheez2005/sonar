(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[894],{8766:function(e,r,t){Promise.resolve().then(t.bind(t,4209)),Promise.resolve().then(t.bind(t,6130))},4209:function(e,r,t){"use strict";t.d(r,{default:function(){return o}});var n=t(7437),a=t(2265);function o(e){let{children:r}=e,[t,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{try{"true"===localStorage.getItem("isAuthenticated")?o(!0):window.location.href="/"}catch(e){window.location.href="/"}},[]),t)?(0,n.jsx)(n.Fragment,{children:r}):null}},7648:function(e,r,t){"use strict";t.d(r,{default:function(){return a.a}});var n=t(2972),a=t.n(n)},6079:function(e,r,t){"use strict";var n=t(7437);t(2265);var a=t(2840),o=t(429);let i=a.ZP.div.withConfig({componentId:"sc-461d11f4-0"})(["display:flex;align-items:center;gap:1rem;"]),s=a.ZP.div.withConfig({componentId:"sc-461d11f4-1"})(["display:flex;flex-direction:column;align-items:center;text-align:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(54,166,186,0.2);","{margin-top:1rem;}"],i),l=a.ZP.h1.withConfig({componentId:"sc-461d11f4-2"})(["font-size:2.5rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;margin:0;img{height:40px;margin-right:1rem;}span.accent{color:var(--primary);}"]),c=(0,a.ZP)(o.E.div).withConfig({componentId:"sc-461d11f4-3"})(["position:relative;width:20px;height:20px;margin-left:10px;&:before,&:after{content:'';position:absolute;border:2px solid var(--primary);border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);}&:before{width:8px;height:8px;background-color:var(--primary);}"]);r.Z=e=>{let{title:r,accentWord:t,children:a,pulseEffect:o=!0}=e,d=r,h="";if(!t&&r.includes(" ")){let e=r.split(" ");h=e.pop(),d=e.join(" ")+" "}else t&&(h=t);return(0,n.jsxs)(s,{children:[(0,n.jsxs)(l,{children:[(0,n.jsx)("img",{src:"/logo.png",alt:"Sonar Logo"}),d,(0,n.jsx)("span",{className:"accent",children:h}),o&&(0,n.jsx)(c,{animate:{scale:[1,1.5,1],opacity:[1,.5,1]},transition:{duration:2,repeat:1/0,repeatType:"loop"}})]}),(0,n.jsx)(i,{children:a})]})}},6130:function(e,r,t){"use strict";t.d(r,{default:function(){return v}});var n=t(7437),a=t(2265),o=t(2840),i=t(429),s=t(6079),l=t(7648);let c=o.ZP.div.withConfig({componentId:"sc-f136b5e6-0"})(["padding:2rem;max-width:1200px;margin:0 auto;"]),d=o.ZP.div.withConfig({componentId:"sc-f136b5e6-1"})(["display:grid;grid-template-columns:1.4fr 1fr 1fr 1fr 1fr 1fr auto;gap:0.75rem;align-items:end;margin-bottom:1rem;@media (max-width:1100px){grid-template-columns:1fr 1fr;}"]),h=o.ZP.div.withConfig({componentId:"sc-f136b5e6-2"})(["display:flex;flex-direction:column;gap:0.35rem;label{color:var(--text-secondary);font-size:0.8rem;padding-left:0.5rem;}"]),u=o.ZP.input.withConfig({componentId:"sc-f136b5e6-3"})(["background:linear-gradient(180deg,rgba(13,33,52,1) 0%,rgba(10,22,33,1) 100%);border:1px solid var(--secondary);color:var(--text-primary);padding:0.65rem 0.95rem;border-radius:999px;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background .2s ease;&::placeholder{color:var(--text-secondary);opacity:.6;}&:hover{border-color:var(--primary);}&:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(54,166,186,.15);}"]),p=o.ZP.select.withConfig({componentId:"sc-f136b5e6-4"})(["appearance:none;-webkit-appearance:none;-moz-appearance:none;background:linear-gradient(180deg,rgba(13,33,52,1) 0%,rgba(10,22,33,1) 100%),url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20'%3E%3Cpath fill='%23a0b2c6' d='M5.5 7l4.5 6 4.5-6z'/%3E%3C/svg%3E\") no-repeat right 12px center / 20px;border:1px solid var(--secondary);color:var(--text-primary);padding:0.65rem 2.25rem 0.65rem 0.95rem;border-radius:999px;outline:none;transition:border-color .15s ease,box-shadow .15s ease,background .2s ease;&:hover{border-color:var(--primary);}&:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(54,166,186,.15);}option{background:var(--background-dark);color:var(--text-primary);}"]),m=o.ZP.button.withConfig({componentId:"sc-f136b5e6-5"})(["background:",";color:",";border:1px solid ",";padding:0.6rem 1rem;border-radius:999px;font-weight:500;transition:transform 0.15s ease,box-shadow 0.15s ease;&:hover{transform:translateY(-2px);box-shadow:0 7px 14px rgba(54,166,186,0.3);}"],e=>{let{variant:r}=e;return"danger"===r?"transparent":"var(--primary)"},e=>{let{variant:r}=e;return"danger"===r?"var(--sell-color)":"#fff"},e=>{let{variant:r}=e;return"danger"===r?"var(--sell-color)":"var(--primary)"}),x=o.ZP.div.withConfig({componentId:"sc-f136b5e6-6"})(["display:flex;gap:0.5rem;flex-wrap:wrap;margin-bottom:0.5rem;button{background:var(--background-card);color:var(--text-secondary);border:1px solid var(--secondary);border-radius:999px;padding:0.4rem 0.8rem;transition:all .15s ease;}button:hover{border-color:var(--primary);color:var(--text-primary);}button.active{background:var(--primary);color:#fff;border-color:var(--primary);}"]),g=o.ZP.div.withConfig({componentId:"sc-f136b5e6-7"})(["background:var(--background-card);border-radius:8px;padding:1rem;box-shadow:0 4px 6px rgba(0,0,0,0.1);"]),b=o.ZP.table.withConfig({componentId:"sc-f136b5e6-8"})(["width:100%;border-collapse:collapse;margin-top:0.5rem;table-layout:fixed;th,td{padding:0.75rem 1rem;border-bottom:1px solid var(--secondary);text-align:left;}th:nth-child(4),td:nth-child(4){text-align:right;}th:nth-child(7),td:nth-child(7){text-align:right;}td.usd{font-variant-numeric:tabular-nums;font-feature-settings:'tnum' 1;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;}"]),f=o.ZP.span.withConfig({componentId:"sc-f136b5e6-9"})(["display:inline-block;padding:0.25rem 0.5rem;border-radius:999px;font-weight:500;font-size:0.85rem;&.buy{color:var(--buy-color);background-color:rgba(54,166,186,0.15);}&.sell{color:var(--sell-color);background-color:rgba(231,76,60,0.15);}&.transfer{color:var(--transfer-color);background-color:rgba(52,152,219,0.15);}"]);function v(){let[e,r]=(0,a.useState)(24),[t,o]=(0,a.useState)(""),[v,j]=(0,a.useState)(""),[y,w]=(0,a.useState)(""),[C,k]=(0,a.useState)(""),[S,P]=(0,a.useState)(""),[I,N]=(0,a.useState)([]),[Z,_]=(0,a.useState)(1),[E,U]=(0,a.useState)([]),[M,T]=(0,a.useState)(0),[L,R]=(0,a.useState)(!1),z=(0,a.useRef)(null);async function A(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;R(!0);let n=new URLSearchParams;n.set("sinceHours",String(e)),t&&n.set("minUsd",String(t)),v&&n.set("maxUsd",String(v)),y&&n.set("token",y),C&&n.set("side",C),S&&n.set("chain",S),n.set("page",String(r)),n.set("limit","200");let a=await fetch("/api/trades?".concat(n.toString()),{cache:"no-store"}),o=await a.json();a.ok&&(U(o.data||[]),T(o.count||0),_(o.page||r)),R(!1)}(0,a.useRef)({token:"",side:"",chain:"",minUsd:"",maxUsd:"",sinceHours:24}),(0,a.useEffect)(()=>{(async function(){let e=await fetch("/api/trades/chains?sinceHours=168",{cache:"no-store"}),{data:r}=await e.json();N(r||[])})()},[]),(0,a.useEffect)(()=>{A(1)},[]),(0,a.useEffect)(()=>(z.current&&clearTimeout(z.current),z.current=setTimeout(()=>A(1),250),()=>clearTimeout(z.current)),[y,C,S,e,t,v]);let D=e=>{r(e)};return(0,n.jsxs)(c,{children:[(0,n.jsx)(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,n.jsx)(s.Z,{title:"Market",accentWord:"Statistics"})}),(0,n.jsxs)(g,{children:[(0,n.jsxs)(x,{children:[(0,n.jsx)("button",{type:"button",className:1===e?"active":"",onClick:()=>D(1),children:"1h"}),(0,n.jsx)("button",{type:"button",className:6===e?"active":"",onClick:()=>D(6),children:"6h"}),(0,n.jsx)("button",{type:"button",className:24===e?"active":"",onClick:()=>D(24),children:"24h"}),(0,n.jsx)("button",{type:"button",className:72===e?"active":"",onClick:()=>D(72),children:"3d"}),(0,n.jsx)("button",{type:"button",className:168===e?"active":"",onClick:()=>D(168),children:"7d"})]}),(0,n.jsxs)(d,{children:[(0,n.jsxs)(h,{children:[(0,n.jsx)("label",{children:"Token"}),(0,n.jsx)(u,{placeholder:"e.g. BTC",value:y,onChange:e=>w(e.target.value.toUpperCase())})]}),(0,n.jsxs)(h,{children:[(0,n.jsx)("label",{children:"Side"}),(0,n.jsxs)(p,{value:C,onChange:e=>k(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"All"}),(0,n.jsx)("option",{value:"buy",children:"Buy"}),(0,n.jsx)("option",{value:"sell",children:"Sell"}),(0,n.jsx)("option",{value:"transfer",children:"Transfer"})]})]}),(0,n.jsxs)(h,{children:[(0,n.jsx)("label",{children:"Chain"}),(0,n.jsxs)(p,{value:S,onChange:e=>P(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"All"}),I.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]}),(0,n.jsxs)(h,{children:[(0,n.jsx)("label",{children:"Min USD"}),(0,n.jsx)(u,{type:"number",min:"0",placeholder:"0",value:t,onChange:e=>o(e.target.value)})]}),(0,n.jsxs)(h,{children:[(0,n.jsx)("label",{children:"Max USD"}),(0,n.jsx)(u,{type:"number",min:"0",placeholder:"Any",value:v,onChange:e=>j(e.target.value)})]}),(0,n.jsxs)(h,{children:[(0,n.jsx)("label",{children:"Since (hours)"}),(0,n.jsx)(u,{type:"number",min:"0",value:e,onChange:e=>r(Number(e.target.value))})]}),(0,n.jsx)("div",{style:{display:"flex",gap:"0.5rem"},children:(0,n.jsx)(m,{type:"button",variant:"danger",onClick:()=>{r(24),o(""),j(""),w(""),k(""),P("")},children:"Reset"})})]}),(0,n.jsx)("div",{children:L?(0,n.jsx)("p",{style:{color:"var(--text-secondary)"},children:"Loadingâ€¦"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(b,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Time"}),(0,n.jsx)("th",{children:"Token"}),(0,n.jsx)("th",{children:"Side"}),(0,n.jsx)("th",{children:"USD"}),(0,n.jsx)("th",{children:"Chain"}),(0,n.jsx)("th",{children:"Whale"}),(0,n.jsx)("th",{children:"Score"})]})}),(0,n.jsx)("tbody",{children:E.map(e=>{var r,t,a;return(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:new Date(e.timestamp).toLocaleString()}),(0,n.jsx)("td",{children:(0,n.jsx)(l.default,{href:"/token/".concat(encodeURIComponent(e.token_symbol||"-")),children:e.token_symbol||"-"})}),(0,n.jsx)("td",{children:(0,n.jsx)(f,{className:(e.classification||"").toLowerCase(),children:e.classification||"-"})}),(0,n.jsxs)("td",{className:"usd",children:["$",Math.round(Number(e.usd_value||0)).toLocaleString()]}),(0,n.jsx)("td",{children:e.blockchain}),(0,n.jsx)("td",{children:(0,n.jsxs)(l.default,{href:"/whale/".concat(encodeURIComponent(e.from_address||"-")),children:[null===(r=e.from_address)||void 0===r?void 0:r.slice(0,6),"â€¦",null===(t=e.from_address)||void 0===t?void 0:t.slice(-4)]})}),(0,n.jsx)("td",{className:"usd",children:null!==(a=e.whale_score)&&void 0!==a?a:"-"})]},e.transaction_hash)})})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.5rem"},children:[(0,n.jsx)(m,{type:"button",onClick:()=>A(Math.max(1,Z-1)),children:"Prev"}),(0,n.jsx)(m,{type:"button",onClick:()=>A(Z+1),children:"Next"}),(0,n.jsxs)("span",{style:{color:"var(--text-secondary)"},children:["Page ",Z]})]})]})})]})]})}}},function(e){e.O(0,[840,429,972,971,117,744],function(){return e(e.s=8766)}),_N_E=e.O()}]);