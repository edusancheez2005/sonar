(()=>{var e={};e.id=814,e.ids=[814],e.modules={9608:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9608,e.exports=t},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},5827:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>d,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>p});var a=r(9303),o=r(8716),i=r(670),n=r(7070),u=r(7574);async function p(){if(!process.env.SUPABASE_URL||!process.env.SUPABASE_SERVICE_ROLE)return n.NextResponse.json({error:"Supabase env vars not set"},{status:503});let{data:e,error:t}=await u.p.from("whale_transactions").select("timestamp").order("timestamp",{ascending:!1}).limit(1);if(t)return n.NextResponse.json({error:t.message},{status:500});let r=e&&e[0]?.timestamp?new Date(e[0].timestamp).getTime():0,s=Date.now();return n.NextResponse.json({active:r>0&&s-r<=12e4,lastTs:r||null})}let c=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/health/algorithm/route",pathname:"/api/health/algorithm",filename:"route",bundlePath:"app/api/health/algorithm/route"},resolvedPagePath:"/Users/edusanchez/sonar/app/api/health/algorithm/route.js",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:h,serverHooks:m}=c,d="/api/health/algorithm/route";function x(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:h})}},7574:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});let s=(0,r(9498).eI)(process.env.SUPABASE_URL,process.env.SUPABASE_SERVICE_ROLE,{auth:{persistSession:!1}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,498,972],()=>r(5827));module.exports=s})();