(()=>{var e={};e.id=246,e.ids=[246],e.modules={9608:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=9608,e.exports=t},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},4515:(e,t,s)=>{"use strict";s.r(t),s.d(t,{originalPathname:()=>m,patchFetch:()=>x,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{GET:()=>p});var a=s(9303),o=s(8716),n=s(670),i=s(7070),u=s(7574);async function p(e){if(!process.env.SUPABASE_URL||!process.env.SUPABASE_SERVICE_ROLE)return i.NextResponse.json({error:"Supabase env vars not set"},{status:503,headers:{"Cache-Control":"no-store"}});let{searchParams:t}=new URL(e.url),s=Math.max(1,parseInt(t.get("page")||"1",10)),r=Math.min(Math.max(1,parseInt(t.get("limit")||"50",10)),200),a=(s-1)*r,{data:o,error:n}=await u.p.from("whale_transactions").select("transaction_hash,timestamp,blockchain,token_symbol,classification,usd_value,whale_score").order("timestamp",{ascending:!1}).range(a,a+r-1);return n?i.NextResponse.json({error:n.message},{status:500}):i.NextResponse.json({data:o,page:s,limit:r},{headers:{"Cache-Control":"s-maxage=30, stale-while-revalidate=60"}})}let c=new a.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/whales/latest/route",pathname:"/api/whales/latest",filename:"route",bundlePath:"app/api/whales/latest/route"},resolvedPagePath:"/Users/edusanchez/sonar/app/api/whales/latest/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h}=c,m="/api/whales/latest/route";function x(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},7574:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});let r=(0,s(9498).eI)(process.env.SUPABASE_URL,process.env.SUPABASE_SERVICE_ROLE,{auth:{persistSession:!1}})}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,498,972],()=>s(4515));module.exports=r})();